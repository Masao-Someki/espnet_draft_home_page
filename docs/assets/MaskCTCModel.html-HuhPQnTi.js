import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as a,c as r,b as e,d as n,e as c,w as l,a as s,o as d}from"./app-KOUU_Wij.js";const p={},i=s('<p>&lt;!-- _espnet2.asr.maskctc_model.MaskCTCModel --&gt;</p><h1 id="espnet2-asr-maskctc-model-maskctcmodel" tabindex="-1"><a class="header-anchor" href="#espnet2-asr-maskctc-model-maskctcmodel"><span>espnet2.asr.maskctc_model.MaskCTCModel</span></a></h1><div class="custom-h3"><p><em>class</em> espnet2.asr.maskctc_model.MaskCTCModel<span class="small-bracket">(vocab_size: int, token_list: Tuple[str, ...] | List[str], frontend: <a href="AbsFrontend.md#espnet2.asr.frontend.abs_frontend.AbsFrontend">AbsFrontend</a></span> | None, specaug: <a href="AbsSpecAug.md#espnet2.asr.specaug.abs_specaug.AbsSpecAug">AbsSpecAug</a> | None, normalize: <a href="../layers/AbsNormalize.md#espnet2.layers.abs_normalize.AbsNormalize">AbsNormalize</a> | None, preencoder: <a href="AbsPreEncoder.md#espnet2.asr.preencoder.abs_preencoder.AbsPreEncoder">AbsPreEncoder</a> | None, encoder: <a href="AbsEncoder.md#espnet2.asr.encoder.abs_encoder.AbsEncoder">AbsEncoder</a>, postencoder: <a href="AbsPostEncoder.md#espnet2.asr.postencoder.abs_postencoder.AbsPostEncoder">AbsPostEncoder</a> | None, decoder: <a href="MLMDecoder.md#espnet2.asr.decoder.mlm_decoder.MLMDecoder">MLMDecoder</a>, ctc: <a href="CTC.md#espnet2.asr.ctc.CTC">CTC</a>, joint_network: Module | None = None, ctc_weight: float = 0.5, interctc_weight: float = 0.0, ignore_id: int = -1, lsm_weight: float = 0.0, length_normalized_loss: bool = False, report_cer: bool = True, report_wer: bool = True, sym_space: str = &#39;&lt;space&gt;&#39;, sym_blank: str = &#39;&lt;blank&gt;&#39;, sym_mask: str = &#39;&lt;mask&gt;&#39;, extract_feats_in_collect_stats: bool = True)</p></div>',3),m=e("code",null,"ESPnetASRModel",-1),_=s('<p>Hybrid CTC/Masked LM Encoder-Decoder model (Mask-CTC)</p><p>Initializes internal Module state, shared by both nn.Module and ScriptModule.</p><div class="custom-h4"><p>batchify_nll<span class="small-bracket">(encoder_out: Tensor, encoder_out_lens: Tensor, ys_pad: Tensor, ys_pad_lens: Tensor, batch_size: int = 100)</span></p></div><p>Compute negative log likelihood(nll) from transformer-decoder</p><p>To avoid OOM, this fuction seperate the input into batches. Then call nll for each batch and combine and return results. :param encoder_out: (Batch, Length, Dim) :param encoder_out_lens: (Batch,) :param ys_pad: (Batch, Length) :param ys_pad_lens: (Batch,) :param batch_size: int, samples each batch contain when computing nll,</p><blockquote><p>you may change this to avoid OOM or increase GPU memory usage</p></blockquote><div class="custom-h4"><p>forward<span class="small-bracket">(speech: Tensor, speech_lengths: Tensor, text: Tensor, text_lengths: Tensor, **kwargs)</span></p></div><p>Frontend + Encoder + Decoder + Calc loss</p><ul><li><strong>Parameters:</strong><ul><li><strong>speech</strong> – (Batch, Length, …)</li><li><strong>speech_lengths</strong> – (Batch, )</li><li><strong>text</strong> – (Batch, Length)</li><li><strong>text_lengths</strong> – (Batch,)</li></ul></li></ul><div class="custom-h4"><p>nll<span class="small-bracket">(encoder_out: Tensor, encoder_out_lens: Tensor, ys_pad: Tensor, ys_pad_lens: Tensor)</span></p></div><p>Compute negative log likelihood(nll) from transformer-decoder</p><p>Normally, this function is called in batchify_nll.</p><ul><li><strong>Parameters:</strong><ul><li><strong>encoder_out</strong> – (Batch, Length, Dim)</li><li><strong>encoder_out_lens</strong> – (Batch,)</li><li><strong>ys_pad</strong> – (Batch, Length)</li><li><strong>ys_pad_lens</strong> – (Batch,)</li></ul></li></ul><div class="custom-h4"><p>training <em>: bool</em></p></div>',14);function h(b,u){const t=a("RouteLink");return d(),r("div",null,[i,e("p",null,[n("Bases: "),c(t,{to:"/guide/espnet2/asr/ESPnetASRModel.html#espnet2.asr.espnet_model.ESPnetASRModel"},{default:l(()=>[m]),_:1})]),_])}const k=o(p,[["render",h],["__file","MaskCTCModel.html.vue"]]),M=JSON.parse(`{"path":"/guide/espnet2/asr/MaskCTCModel.html","title":"espnet2.asr.maskctc_model.MaskCTCModel","lang":"en-US","frontmatter":{},"headers":[],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":1.14,"words":341},"filePathRelative":"guide/espnet2/asr/MaskCTCModel.md","excerpt":"<p>&lt;!-- _espnet2.asr.maskctc_model.MaskCTCModel --&gt;</p>\\n<h1>espnet2.asr.maskctc_model.MaskCTCModel</h1>\\n<div class=\\"custom-h3\\"><p><em>class</em> espnet2.asr.maskctc_model.MaskCTCModel<span class=\\"small-bracket\\">(vocab_size: int, token_list: Tuple[str, ...] | List[str], frontend: <a href=\\"AbsFrontend.md#espnet2.asr.frontend.abs_frontend.AbsFrontend\\">AbsFrontend</a></span> | None, specaug: <a href=\\"AbsSpecAug.md#espnet2.asr.specaug.abs_specaug.AbsSpecAug\\">AbsSpecAug</a> | None, normalize: <a href=\\"../layers/AbsNormalize.md#espnet2.layers.abs_normalize.AbsNormalize\\">AbsNormalize</a> | None, preencoder: <a href=\\"AbsPreEncoder.md#espnet2.asr.preencoder.abs_preencoder.AbsPreEncoder\\">AbsPreEncoder</a> | None, encoder: <a href=\\"AbsEncoder.md#espnet2.asr.encoder.abs_encoder.AbsEncoder\\">AbsEncoder</a>, postencoder: <a href=\\"AbsPostEncoder.md#espnet2.asr.postencoder.abs_postencoder.AbsPostEncoder\\">AbsPostEncoder</a> | None, decoder: <a href=\\"MLMDecoder.md#espnet2.asr.decoder.mlm_decoder.MLMDecoder\\">MLMDecoder</a>, ctc: <a href=\\"CTC.md#espnet2.asr.ctc.CTC\\">CTC</a>, joint_network: Module | None = None, ctc_weight: float = 0.5, interctc_weight: float = 0.0, ignore_id: int = -1, lsm_weight: float = 0.0, length_normalized_loss: bool = False, report_cer: bool = True, report_wer: bool = True, sym_space: str = '&lt;space&gt;', sym_blank: str = '&lt;blank&gt;', sym_mask: str = '&lt;mask&gt;', extract_feats_in_collect_stats: bool = True)</p></div>"}`);export{k as comp,M as data};
