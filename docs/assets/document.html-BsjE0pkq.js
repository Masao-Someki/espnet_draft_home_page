import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,a as e}from"./app-KOUU_Wij.js";const n={},l=e(`<h1 id="espnet-document-generation" tabindex="-1"><a class="header-anchor" href="#espnet-document-generation"><span>ESPnet document generation</span></a></h1><h2 id="install" tabindex="-1"><a class="header-anchor" href="#install"><span>Install</span></a></h2><p>We use <a href="https://www.sphinx-doc.org" target="_blank" rel="noopener noreferrer">sphinx</a> to generate HTML documentation.</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">lt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">espnet_root</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;.[doc]&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> flake8-docstrings</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="style-check-using-flake8-docstrings" tabindex="-1"><a class="header-anchor" href="#style-check-using-flake8-docstrings"><span>Style check using flake8-docstrings</span></a></h2><p>You can check that your docstring style is correct by <code>ci/test_flake8.sh</code> using <a href="https://pypi.org/project/flake8-docstrings/" target="_blank" rel="noopener noreferrer">flake8-docstrings</a>. Note that many existing files have been added to <strong>the black list</strong> in the script to avoid this check by default. You can freely remove files that you wanna improve.</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># in ci/test_flake8.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># you can improve poorly written docstrings from here</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">flake8_black_list</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">espnet/__init__.py</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">espnet/asr/asr_mix_utils.py</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">espnet/asr/asr_utils.py</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">espnet/asr/chainer_backend/asr.py</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">...</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># --extend-ignore for wip files for flake8-docstrings</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">flake8</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --extend-ignore=D</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> utils</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> doc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">flake8_black_list</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># white list of files that should support flake8-docstrings</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">flake8</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> espnet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --exclude=\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">flake8_black_list</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">$&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">,}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>DO NOT ADD NEW FILES TO THIS BLACK LIST!</p><h2 id="generate-html" tabindex="-1"><a class="header-anchor" href="#generate-html"><span>Generate HTML</span></a></h2><p>You can generate local HTML manually using sphinx Makefile</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">lt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">espnet_root</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">gt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./ci/doc.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>open <code>doc/build/index.html</code></p><h2 id="deploy" tabindex="-1"><a class="header-anchor" href="#deploy"><span>Deploy</span></a></h2><p>When your PR is merged into <code>master</code> branch, our <a href="https://github.com/espnet/espnet/blob/master/.github/workflows/doc.yml" target="_blank" rel="noopener noreferrer">CI</a> will automatically deploy your sphinx html into https://espnet.github.io/espnet/.</p>`,14),t=[l];function h(k,p){return a(),i("div",null,t)}const c=s(n,[["render",h],["__file","document.html.vue"]]),g=JSON.parse('{"path":"/document.html","title":"ESPnet document generation","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Install","slug":"install","link":"#install","children":[]},{"level":2,"title":"Style check using flake8-docstrings","slug":"style-check-using-flake8-docstrings","link":"#style-check-using-flake8-docstrings","children":[]},{"level":2,"title":"Generate HTML","slug":"generate-html","link":"#generate-html","children":[]},{"level":2,"title":"Deploy","slug":"deploy","link":"#deploy","children":[]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":0.6,"words":180},"filePathRelative":"document.md","excerpt":"\\n<h2>Install</h2>\\n<p>We use <a href=\\"https://www.sphinx-doc.org\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">sphinx</a> to generate HTML documentation.</p>\\n<div class=\\"language-sh line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sh\\" data-title=\\"sh\\" style=\\"--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes github-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">$</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> cd</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\"> &amp;</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">lt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">;</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">espnet_root</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">&amp;</span><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">gt</span><span style=\\"--shiki-light:#24292E;--shiki-dark:#ABB2BF\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">$</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> pip</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#D19A66\\"> -e</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> \\".[doc]\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">$</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> pip</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#D19A66\\"> -U</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> flake8-docstrings</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{c as comp,g as data};
