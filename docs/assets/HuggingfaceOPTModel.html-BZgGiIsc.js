import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,c as r,f as a,b as e,d as t,e as l,w as i,a as c,o as g}from"./app-KOUU_Wij.js";const p={},m=e("h1",{id:"espnet2-lm-huggingface-pretrained-opt-lm-huggingfaceoptmodel",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#espnet2-lm-huggingface-pretrained-opt-lm-huggingfaceoptmodel"},[e("span",null,"espnet2.lm.huggingface_pretrained_opt_lm.HuggingfaceOPTModel")])],-1),d=e("div",{class:"custom-h3"},[e("p",null,[e("em",null,"class"),t(" espnet2.lm.huggingface_pretrained_opt_lm.HuggingfaceOPTModel"),e("span",{class:"small-bracket"},"(vocab_size: int, opt_name: str)")])],-1),u=e("code",null,"AbsLM",-1),h=c('<p>Initializes internal Module state, shared by both nn.Module and ScriptModule.</p><div class="custom-h4"><p>batch_score<span class="small-bracket">(ys: Tensor, states: List[Any], xs: Tensor)</span></p></div><p>Score new token batch.</p><ul><li><strong>Parameters:</strong><ul><li><strong>ys</strong> (<em>torch.Tensor</em>) – torch.int64 prefix tokens (n_batch, ylen).</li><li><strong>states</strong> (<em>List</em> *[*<em>Any</em> <em>]</em>) – Scorer states for prefix tokens.</li><li><strong>xs</strong> (<em>torch.Tensor</em>) – The encoder feature that generates ys (n_batch, xlen, n_feat).</li></ul></li><li><strong>Returns:</strong> Tuple of : batchfied scores for next token with shape of (n_batch, vocab_size) and next state list for ys.</li><li><strong>Return type:</strong> tuple[torch.Tensor, List[Any]]</li></ul><div class="custom-h4"><p>forward<span class="small-bracket">(input: Tensor, hidden: None)</span></p></div><p>Compute LM loss value from buffer sequences.</p><ul><li><strong>Parameters:</strong><ul><li><strong>input</strong> (<em>torch.Tensor</em>) – Input ids. (batch, len)</li><li><strong>hidden</strong> (<em>torch.Tensor</em>) – Target ids. (batch, len)</li></ul></li></ul><div class="custom-h4"><p>reload_pretrained_parameters()</p></div><div class="custom-h4"><p>score<span class="small-bracket">(y: Tensor, state: Any, x: Tensor)</span></p></div><p>Score new token.</p><ul><li><strong>Parameters:</strong><ul><li><strong>y</strong> (<em>torch.Tensor</em>) – 1D torch.int64 prefix tokens.</li><li><strong>state</strong> – Scorer state for prefix tokens</li><li><strong>x</strong> (<em>torch.Tensor</em>) – encoder feature that generates ys.</li></ul></li><li><strong>Returns:</strong> Tuple of : torch.float32 scores for next token (vocab_size) and next state for ys</li><li><strong>Return type:</strong> tuple[torch.Tensor, Any]</li></ul><div class="custom-h4"><p>training <em>: bool</em></p></div>',12);function _(f,T){const s=o("RouteLink");return g(),r("div",null,[a(" _espnet2.lm.huggingface_pretrained_opt_lm.HuggingfaceOPTModel "),m,d,e("p",null,[t("Bases: "),l(s,{to:"/guide/espnet2/lm/AbsLM.html#espnet2.lm.abs_model.AbsLM"},{default:i(()=>[u]),_:1})]),h])}const x=n(p,[["render",_],["__file","HuggingfaceOPTModel.html.vue"]]),M=JSON.parse('{"path":"/guide/espnet2/lm/HuggingfaceOPTModel.html","title":"espnet2.lm.huggingface_pretrained_opt_lm.HuggingfaceOPTModel","lang":"en-US","frontmatter":{},"headers":[],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":0.77,"words":231},"filePathRelative":"guide/espnet2/lm/HuggingfaceOPTModel.md","excerpt":"<!-- _espnet2.lm.huggingface_pretrained_opt_lm.HuggingfaceOPTModel -->\\n<h1>espnet2.lm.huggingface_pretrained_opt_lm.HuggingfaceOPTModel</h1>\\n<div class=\\"custom-h3\\"><p><em>class</em> espnet2.lm.huggingface_pretrained_opt_lm.HuggingfaceOPTModel<span class=\\"small-bracket\\">(vocab_size: int, opt_name: str)</span></p></div>"}');export{x as comp,M as data};
