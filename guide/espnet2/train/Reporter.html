<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.51" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="icon" href="/espnet_draft_home_page/assets/image/espnet.png"><title>espnet2.train.reporter.Reporter</title><meta name="description" content="A documentation for ESPnet">
    <link rel="preload" href="/espnet_draft_home_page/assets/style-CiXYLHjk.css" as="style"><link rel="stylesheet" href="/espnet_draft_home_page/assets/style-CiXYLHjk.css">
    <link rel="modulepreload" href="/espnet_draft_home_page/assets/app-DtMTUqbx.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container external-link-icon"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/espnet_draft_home_page/"><img class="vp-nav-logo" src="/espnet_draft_home_page/assets/image/espnet_logo1.png" alt><!----><!----></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Demos"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="fa-solid:laptop-code" width="1em" height="1em"></iconify-icon>Demos<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/notebook/" aria-label="Roadmap"><!---->Roadmap<!----></a></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">ESPnet2</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/notebook/ESPnet2/Demo/" aria-label="Demo"><!---->Demo<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/notebook/ESPnet2/Course/" aria-label="Course"><!---->Course<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">ESPnet-EZ</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/notebook/ESPnetEZ/" aria-label="ESPnet EZ"><!---->ESPnet EZ<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">ESPnet1 (Legacy)</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/notebook/ESPnet1/" aria-label="ESPnet1"><!---->ESPnet1<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Recipes"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="fa-solid:mug-hot" width="1em" height="1em"></iconify-icon>Recipes<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/" aria-label="What is a recipe template?"><!---->What is a recipe template?<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/asr1.html" aria-label="Automatic Speech Recognition (Multi-tasking)"><!---->Automatic Speech Recognition (Multi-tasking)<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/asr2.html" aria-label="Automatic Speech Recognition with Discrete Units"><!---->Automatic Speech Recognition with Discrete Units<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/asvspoof1.html" aria-label="Speaker Verification Spoofing and Countermeasures"><!---->Speaker Verification Spoofing and Countermeasures<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/codec1.html" aria-label="Speech Codec"><!---->Speech Codec<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/diar1.html" aria-label="Speaker Diarisation"><!---->Speaker Diarisation<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/enh1.html" aria-label="Speech Enhancement"><!---->Speech Enhancement<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/enh_asr1.html" aria-label="Speech Recognition with Speech Enhancement"><!---->Speech Recognition with Speech Enhancement<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/enh_diar1.html" aria-label="Speaker Diarisation with Speech Enhancement"><!---->Speaker Diarisation with Speech Enhancement<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/enh_st1.html" aria-label="Speech-to-Text Translation with Speech Enhancement"><!---->Speech-to-Text Translation with Speech Enhancement<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/lm1.html" aria-label="Language Modeling"><!---->Language Modeling<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/mt1.html" aria-label="Machine Translation"><!---->Machine Translation<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/s2st1.html" aria-label="Speech-to-Speech Translation"><!---->Speech-to-Speech Translation<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/s2t1.html" aria-label="Weakly-supervised Learning (Speech-to-Text)"><!---->Weakly-supervised Learning (Speech-to-Text)<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/slu1.html" aria-label="Spoken Language Understanding"><!---->Spoken Language Understanding<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/speechlm1.html" aria-label="Speech Language Model"><!---->Speech Language Model<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/spk1.html" aria-label="Speaker Representation"><!---->Speaker Representation<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/ssl1.html" aria-label="Self-supervised Learning"><!---->Self-supervised Learning<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/st1.html" aria-label="Speech-to-Text Translation"><!---->Speech-to-Text Translation<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/svs1.html" aria-label="Singing Voice Synthesis"><!---->Singing Voice Synthesis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/tts1.html" aria-label="Text-to-Speech"><!---->Text-to-Speech<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/tts2.html" aria-label="Text-to-Speech with Discrete Units"><!---->Text-to-Speech with Discrete Units<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/recipe/uasr1.html" aria-label="Unsupervised Automatic Speech Recognition"><!---->Unsupervised Automatic Speech Recognition<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Python API"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="fa-solid:book" width="1em" height="1em"></iconify-icon>Python API<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">espnet</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/asr/" aria-label="asr"><!---->asr<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/distributed/" aria-label="distributed"><!---->distributed<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/lm/" aria-label="lm"><!---->lm<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/mt/" aria-label="mt"><!---->mt<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/nets/" aria-label="nets"><!---->nets<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/optimizer/" aria-label="optimizer"><!---->optimizer<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/scheduler/" aria-label="scheduler"><!---->scheduler<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/st/" aria-label="st"><!---->st<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/transform/" aria-label="transform"><!---->transform<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/tts/" aria-label="tts"><!---->tts<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/utils/" aria-label="utils"><!---->utils<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet/vc/" aria-label="vc"><!---->vc<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">espnet2</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/asr/" aria-label="asr"><!---->asr<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/asr_transducer/" aria-label="asr_transducer"><!---->asr_transducer<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/asvspoof/" aria-label="asvspoof"><!---->asvspoof<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/diar/" aria-label="diar"><!---->diar<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/enh/" aria-label="enh"><!---->enh<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/fileio/" aria-label="fileio"><!---->fileio<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/fst/" aria-label="fst"><!---->fst<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/gan_codec/" aria-label="gan_codec"><!---->gan_codec<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/gan_svs/" aria-label="gan_svs"><!---->gan_svs<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/gan_tts/" aria-label="gan_tts"><!---->gan_tts<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/hubert/" aria-label="hubert"><!---->hubert<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/iterators/" aria-label="iterators"><!---->iterators<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/layers/" aria-label="layers"><!---->layers<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/lm/" aria-label="lm"><!---->lm<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/main_funcs/" aria-label="main_funcs"><!---->main_funcs<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/mt/" aria-label="mt"><!---->mt<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/optimizers/" aria-label="optimizers"><!---->optimizers<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/s2st/" aria-label="s2st"><!---->s2st<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/s2t/" aria-label="s2t"><!---->s2t<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/samplers/" aria-label="samplers"><!---->samplers<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/schedulers/" aria-label="schedulers"><!---->schedulers<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/slu/" aria-label="slu"><!---->slu<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/speechlm/" aria-label="speechlm"><!---->speechlm<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/spk/" aria-label="spk"><!---->spk<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/st/" aria-label="st"><!---->st<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/svs/" aria-label="svs"><!---->svs<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/tasks/" aria-label="tasks"><!---->tasks<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/text/" aria-label="text"><!---->text<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/torch_utils/" aria-label="torch_utils"><!---->torch_utils<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/espnet_draft_home_page/guide/espnet2/train/" aria-label="train"><!---->train<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/tts/" aria-label="tts"><!---->tts<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/tts2/" aria-label="tts2"><!---->tts2<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/uasr/" aria-label="uasr"><!---->uasr<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnet2/utils/" aria-label="utils"><!---->utils<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">espnetez</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnetez/config/" aria-label="config"><!---->config<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnetez/data/" aria-label="data"><!---->data<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnetez/dataloader/" aria-label="dataloader"><!---->dataloader<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnetez/dataset/" aria-label="dataset"><!---->dataset<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnetez/preprocess/" aria-label="preprocess"><!---->preprocess<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnetez/task/" aria-label="task"><!---->task<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/espnet_draft_home_page/guide/espnetez/trainer/" aria-label="trainer"><!---->trainer<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Shell API"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="fa-solid:wrench" width="1em" height="1em"></iconify-icon>Shell API<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/tools/espnet2_bin/" aria-label="espnet2_bin"><!---->espnet2_bin<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/tools/espnet_bin/" aria-label="espnet_bin"><!---->espnet_bin<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/tools/spm/" aria-label="spm"><!---->spm<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/tools/utils/" aria-label="utils"><!---->utils<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/espnet_draft_home_page/tools/utils_py/" aria-label="utils_py"><!---->utils_py<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/espnet/espnet" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><!--[--><button type="button" class="search-pro-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="fa-solid:laptop-code" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Demos</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/notebook/" aria-label="ESPnet Notebooks"><!---->ESPnet Notebooks<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ESPnet EZ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ESPnet1</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ESPnet2</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="fa-solid:mug-hot" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Recipes</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/" aria-label="Recipe Template"><!---->Recipe Template<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/asr1.html" aria-label="Automatic Speech Recognition (Multi-tasking)"><!---->Automatic Speech Recognition (Multi-tasking)<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/asr2.html" aria-label="Automatic Speech Recognition with Discrete Units"><!---->Automatic Speech Recognition with Discrete Units<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/lm1.html" aria-label="Language Modeling"><!---->Language Modeling<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/mt1.html" aria-label="Machine Translation"><!---->Machine Translation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/ssl1.html" aria-label="Self-supervised Learning"><!---->Self-supervised Learning<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/svs1.html" aria-label="Singing Voice Synthesis"><!---->Singing Voice Synthesis<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/diar1.html" aria-label="Speaker Diarisation"><!---->Speaker Diarisation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/enh_diar1.html" aria-label="Speaker Diarisation with Speech Enhancement"><!---->Speaker Diarisation with Speech Enhancement<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/spk1.html" aria-label="Speaker Representation"><!---->Speaker Representation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/asvspoof1.html" aria-label="Speaker Verification Spoofing and Countermeasures"><!---->Speaker Verification Spoofing and Countermeasures<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/codec1.html" aria-label="Speech Codec"><!---->Speech Codec<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/enh1.html" aria-label="Speech Enhancement"><!---->Speech Enhancement<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/speechlm1.html" aria-label="Speech Language Model"><!---->Speech Language Model<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/enh_asr1.html" aria-label="Speech Recognition with Speech Enhancement"><!---->Speech Recognition with Speech Enhancement<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/s2st1.html" aria-label="Speech-to-Speech Translation"><!---->Speech-to-Speech Translation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/st1.html" aria-label="Speech-to-Text Translation"><!---->Speech-to-Text Translation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/enh_st1.html" aria-label="Speech-to-Text Translation with Speech Enhancement"><!---->Speech-to-Text Translation with Speech Enhancement<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/slu1.html" aria-label="Spoken Language Understanding"><!---->Spoken Language Understanding<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/tts1.html" aria-label="Text-to-Speech"><!---->Text-to-Speech<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/tts2.html" aria-label="Text-to-Speech with Discrete Units"><!---->Text-to-Speech with Discrete Units<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/uasr1.html" aria-label="Unsupervised Automatic Speech Recognition"><!---->Unsupervised Automatic Speech Recognition<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/recipe/s2t1.html" aria-label="Weakly-supervised Learning (Speech-to-Text)"><!---->Weakly-supervised Learning (Speech-to-Text)<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="fa-solid:book" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Python API</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Espnet</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Espnet2</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Asr</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Asr Transducer</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Asvspoof</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Diar</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Enh</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Fileio</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Fst</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Gan Codec</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Gan Svs</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Gan Tts</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Hubert</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Iterators</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Layers</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Lm</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Main Funcs</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Mt</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Optimizers</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">S2st</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">S2t</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Samplers</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Schedulers</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Slu</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Speechlm</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spk</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">St</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Svs</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Tasks</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Text</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Torch Utils</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Train</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/AbsESPnetModel.html" aria-label="espnet2.train.abs_espnet_model.AbsESPnetModel"><!---->espnet2.train.abs_espnet_model.AbsESPnetModel<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/AbsGANESPnetModel.html" aria-label="espnet2.train.abs_gan_espnet_model.AbsGANESPnetModel"><!---->espnet2.train.abs_gan_espnet_model.AbsGANESPnetModel<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/ClassChoices.html" aria-label="espnet2.train.class_choices.ClassChoices"><!---->espnet2.train.class_choices.ClassChoices<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/common_collate_fn.html" aria-label="espnet2.train.collate_fn.common_collate_fn"><!---->espnet2.train.collate_fn.common_collate_fn<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/CommonCollateFn.html" aria-label="espnet2.train.collate_fn.CommonCollateFn"><!---->espnet2.train.collate_fn.CommonCollateFn<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/HuBERTCollateFn.html" aria-label="espnet2.train.collate_fn.HuBERTCollateFn"><!---->espnet2.train.collate_fn.HuBERTCollateFn<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/AbsDataset.html" aria-label="espnet2.train.dataset.AbsDataset"><!---->espnet2.train.dataset.AbsDataset<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/AdapterForLabelScpReader.html" aria-label="espnet2.train.dataset.AdapterForLabelScpReader"><!---->espnet2.train.dataset.AdapterForLabelScpReader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/AdapterForSingingScoreScpReader.html" aria-label="espnet2.train.dataset.AdapterForSingingScoreScpReader"><!---->espnet2.train.dataset.AdapterForSingingScoreScpReader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/AdapterForSoundScpReader.html" aria-label="espnet2.train.dataset.AdapterForSoundScpReader"><!---->espnet2.train.dataset.AdapterForSoundScpReader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/ESPnetDataset.html" aria-label="espnet2.train.dataset.ESPnetDataset"><!---->espnet2.train.dataset.ESPnetDataset<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/ESPnetMultiTaskDataset.html" aria-label="espnet2.train.dataset.ESPnetMultiTaskDataset"><!---->espnet2.train.dataset.ESPnetMultiTaskDataset<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/ESPnetSpeechLMDataset.html" aria-label="espnet2.train.dataset.ESPnetSpeechLMDataset"><!---->espnet2.train.dataset.ESPnetSpeechLMDataset<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/H5FileWrapper.html" aria-label="espnet2.train.dataset.H5FileWrapper"><!---->espnet2.train.dataset.H5FileWrapper<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/kaldi_loader.html" aria-label="espnet2.train.dataset.kaldi_loader"><!---->espnet2.train.dataset.kaldi_loader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/label_loader.html" aria-label="espnet2.train.dataset.label_loader"><!---->espnet2.train.dataset.label_loader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/multi_columns_sound_loader.html" aria-label="espnet2.train.dataset.multi_columns_sound_loader"><!---->espnet2.train.dataset.multi_columns_sound_loader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/rand_int_loader.html" aria-label="espnet2.train.dataset.rand_int_loader"><!---->espnet2.train.dataset.rand_int_loader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/score_loader.html" aria-label="espnet2.train.dataset.score_loader"><!---->espnet2.train.dataset.score_loader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/sound_loader.html" aria-label="espnet2.train.dataset.sound_loader"><!---->espnet2.train.dataset.sound_loader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/variable_columns_sound_loader.html" aria-label="espnet2.train.dataset.variable_columns_sound_loader"><!---->espnet2.train.dataset.variable_columns_sound_loader<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/DeepSpeedTrainer.html" aria-label="espnet2.train.deepspeed_trainer.DeepSpeedTrainer"><!---->espnet2.train.deepspeed_trainer.DeepSpeedTrainer<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/DeepSpeedTrainerOptions.html" aria-label="espnet2.train.deepspeed_trainer.DeepSpeedTrainerOptions"><!---->espnet2.train.deepspeed_trainer.DeepSpeedTrainerOptions<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/DistributedOption.html" aria-label="espnet2.train.distributed_utils.DistributedOption"><!---->espnet2.train.distributed_utils.DistributedOption<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/free_port.html" aria-label="espnet2.train.distributed_utils.free_port"><!---->espnet2.train.distributed_utils.free_port<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/get_local_rank.html" aria-label="espnet2.train.distributed_utils.get_local_rank"><!---->espnet2.train.distributed_utils.get_local_rank<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/get_master_addr.html" aria-label="espnet2.train.distributed_utils.get_master_addr"><!---->espnet2.train.distributed_utils.get_master_addr<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/get_master_port.html" aria-label="espnet2.train.distributed_utils.get_master_port"><!---->espnet2.train.distributed_utils.get_master_port<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/get_node_rank.html" aria-label="espnet2.train.distributed_utils.get_node_rank"><!---->espnet2.train.distributed_utils.get_node_rank<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/get_num_nodes.html" aria-label="espnet2.train.distributed_utils.get_num_nodes"><!---->espnet2.train.distributed_utils.get_num_nodes<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/get_rank.html" aria-label="espnet2.train.distributed_utils.get_rank"><!---->espnet2.train.distributed_utils.get_rank<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/get_world_size.html" aria-label="espnet2.train.distributed_utils.get_world_size"><!---->espnet2.train.distributed_utils.get_world_size<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/is_in_slurm_job.html" aria-label="espnet2.train.distributed_utils.is_in_slurm_job"><!---->espnet2.train.distributed_utils.is_in_slurm_job<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/is_in_slurm_step.html" aria-label="espnet2.train.distributed_utils.is_in_slurm_step"><!---->espnet2.train.distributed_utils.is_in_slurm_step<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/resolve_distributed_mode.html" aria-label="espnet2.train.distributed_utils.resolve_distributed_mode"><!---->espnet2.train.distributed_utils.resolve_distributed_mode<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/GANTrainer.html" aria-label="espnet2.train.gan_trainer.GANTrainer"><!---->espnet2.train.gan_trainer.GANTrainer<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/GANTrainerOptions.html" aria-label="espnet2.train.gan_trainer.GANTrainerOptions"><!---->espnet2.train.gan_trainer.GANTrainerOptions<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/IterableESPnetDataset.html" aria-label="espnet2.train.iterable_dataset.IterableESPnetDataset"><!---->espnet2.train.iterable_dataset.IterableESPnetDataset<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/load_kaldi.html" aria-label="espnet2.train.iterable_dataset.load_kaldi"><!---->espnet2.train.iterable_dataset.load_kaldi<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/SplicedIterableESPnetDataset.html" aria-label="espnet2.train.iterable_dataset.SplicedIterableESPnetDataset"><!---->espnet2.train.iterable_dataset.SplicedIterableESPnetDataset<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/AbsPreprocessor.html" aria-label="espnet2.train.preprocessor.AbsPreprocessor"><!---->espnet2.train.preprocessor.AbsPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/any_allzero.html" aria-label="espnet2.train.preprocessor.any_allzero"><!---->espnet2.train.preprocessor.any_allzero<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/CommonPreprocessor.html" aria-label="espnet2.train.preprocessor.CommonPreprocessor"><!---->espnet2.train.preprocessor.CommonPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/CommonPreprocessor_multi.html" aria-label="espnet2.train.preprocessor.CommonPreprocessor_multi"><!---->espnet2.train.preprocessor.CommonPreprocessor_multi<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/detect_non_silence.html" aria-label="espnet2.train.preprocessor.detect_non_silence"><!---->espnet2.train.preprocessor.detect_non_silence<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/DynamicMixingPreprocessor.html" aria-label="espnet2.train.preprocessor.DynamicMixingPreprocessor"><!---->espnet2.train.preprocessor.DynamicMixingPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/EnhPreprocessor.html" aria-label="espnet2.train.preprocessor.EnhPreprocessor"><!---->espnet2.train.preprocessor.EnhPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/framing.html" aria-label="espnet2.train.preprocessor.framing"><!---->espnet2.train.preprocessor.framing<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/MutliTokenizerCommonPreprocessor.html" aria-label="espnet2.train.preprocessor.MutliTokenizerCommonPreprocessor"><!---->espnet2.train.preprocessor.MutliTokenizerCommonPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/S2TCTCPreprocessor.html" aria-label="espnet2.train.preprocessor.S2TCTCPreprocessor"><!---->espnet2.train.preprocessor.S2TCTCPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/S2TPreprocessor.html" aria-label="espnet2.train.preprocessor.S2TPreprocessor"><!---->espnet2.train.preprocessor.S2TPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/SLUPreprocessor.html" aria-label="espnet2.train.preprocessor.SLUPreprocessor"><!---->espnet2.train.preprocessor.SLUPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/SpeechLMPreprocessor.html" aria-label="espnet2.train.preprocessor.SpeechLMPreprocessor"><!---->espnet2.train.preprocessor.SpeechLMPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/SpkPreprocessor.html" aria-label="espnet2.train.preprocessor.SpkPreprocessor"><!---->espnet2.train.preprocessor.SpkPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/SVSPreprocessor.html" aria-label="espnet2.train.preprocessor.SVSPreprocessor"><!---->espnet2.train.preprocessor.SVSPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/TSEPreprocessor.html" aria-label="espnet2.train.preprocessor.TSEPreprocessor"><!---->espnet2.train.preprocessor.TSEPreprocessor<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/aggregate.html" aria-label="espnet2.train.reporter.aggregate"><!---->espnet2.train.reporter.aggregate<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/Average.html" aria-label="espnet2.train.reporter.Average"><!---->espnet2.train.reporter.Average<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/ReportedValue.html" aria-label="espnet2.train.reporter.ReportedValue"><!---->espnet2.train.reporter.ReportedValue<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/espnet_draft_home_page/guide/espnet2/train/Reporter.html" aria-label="espnet2.train.reporter.Reporter"><!---->espnet2.train.reporter.Reporter<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/SubReporter.html" aria-label="espnet2.train.reporter.SubReporter"><!---->espnet2.train.reporter.SubReporter<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/to_reported_value.html" aria-label="espnet2.train.reporter.to_reported_value"><!---->espnet2.train.reporter.to_reported_value<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/wandb_get_prefix.html" aria-label="espnet2.train.reporter.wandb_get_prefix"><!---->espnet2.train.reporter.wandb_get_prefix<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/WeightedAverage.html" aria-label="espnet2.train.reporter.WeightedAverage"><!---->espnet2.train.reporter.WeightedAverage<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/SpkTrainer.html" aria-label="espnet2.train.spk_trainer.SpkTrainer"><!---->espnet2.train.spk_trainer.SpkTrainer<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/Trainer.html" aria-label="espnet2.train.trainer.Trainer"><!---->espnet2.train.trainer.Trainer<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/TrainerOptions.html" aria-label="espnet2.train.trainer.TrainerOptions"><!---->espnet2.train.trainer.TrainerOptions<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/UASRTrainer.html" aria-label="espnet2.train.uasr_trainer.UASRTrainer"><!---->espnet2.train.uasr_trainer.UASRTrainer<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/espnet_draft_home_page/guide/espnet2/train/UASRTrainerOptions.html" aria-label="espnet2.train.uasr_trainer.UASRTrainerOptions"><!---->espnet2.train.uasr_trainer.UASRTrainerOptions<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Tts</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Tts2</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Uasr</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Utils</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Espnetez</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="fa-solid:wrench" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Shell API</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Espnet Bin</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Espnet2 Bin</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spm</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Utils</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Utils Py</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->espnet2.train.reporter.Reporter</h1><div class="page-info"><!----><!----><!----><!----><span class="page-reading-time-info" aria-label="Reading Time" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 11 min</span><meta property="timeRequired" content="PT11M"></span><!----><!----></div><hr></div><!----><!----><div class="theme-hope-content"><!-- _espnet2.train.reporter.Reporter --><h1 id="espnet2-train-reporter-reporter" tabindex="-1"><a class="header-anchor" href="#espnet2-train-reporter-reporter"><span>espnet2.train.reporter.Reporter</span></a></h1><p><a href="https://github.com/espnet/espnet/blob/e1fdf91cf400cbcb5f3fe4cf3a4c85cbd0f8bedb/espnet2/train/reporter.py#L689" target="_blank" rel="noopener noreferrer">source</a></p><div class="custom-h3"><p><em>class</em> espnet2.train.reporter.Reporter<span class="small-bracket">(epoch: int = 0)</span></p></div><p>Bases: <code>object</code></p><blockquote><p>Reporter class.</p></blockquote><p>This class is responsible for reporting training and evaluation statistics during the training process of a machine learning model. It keeps track of various metrics over multiple epochs and allows for organized logging and visualization of these metrics.</p><div class="custom-h4"><p>epoch</p></div><p>The current epoch number.</p><ul><li><strong>Type:</strong> int</li></ul><div class="custom-h4"><p>stats</p></div><p>A dictionary to store statistics for each epoch and key.</p><ul><li><strong>Type:</strong> dict</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> batch </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> iterator:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         stats </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> dict</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">loss</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(stats)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-h4"><p>get_epoch<span class="small-bracket">()</span>  int</p></div><p>Returns the current epoch number.</p><div class="custom-h3"><p>set_epoch(epoch</p></div><p>int) -&gt; None: Sets the current epoch number.</p><div class="custom-h3"><p>observe(key</p></div><p>str, epoch: Optional[int] = None) -&gt; ContextManager[SubReporter]: Context manager to observe metrics for a specific key.</p><div class="custom-h3"><p>start_epoch(key</p></div><p>str, epoch: Optional[int] = None) -&gt; SubReporter: Initializes a new SubReporter for the specified key and epoch.</p><div class="custom-h3"><p>finish_epoch(sub_reporter</p></div><p>SubReporter) -&gt; None: Finalizes and records the statistics collected in the given SubReporter.</p><div class="custom-h3"><p>sort_epochs_and_values(key</p></div><p>str, key2: str, mode: str) -&gt; List[Tuple[int, float]]: Returns a list of epochs and their corresponding values sorted by mode.</p><div class="custom-h3"><p>check_early_stopping(patience</p></div><p>int, key1: str, key2: str, mode: str, : epoch: Optional[int] = None, logger: Optional[logging.Logger] = None) -&gt; bool:</p><p>Checks if early stopping criteria are met based on the specified key.</p><div class="custom-h3"><p>has(key</p></div><p>str, key2: str, epoch: Optional[int] = None) -&gt; bool: Checks if the specified keys exist in the statistics for the given epoch.</p><div class="custom-h3"><p>log_message(epoch</p></div><p>Optional[int] = None) -&gt; str: Generates a formatted log message for the specified epoch.</p><div class="custom-h3"><p>get_value(key</p></div><p>str, key2: str, epoch: Optional[int] = None): Retrieves the value for the specified keys and epoch.</p><div class="custom-h3"><p>get_keys(epoch</p></div><p>Optional[int] = None) -&gt; Tuple[str, ]: Returns the first-level keys (e.g., train, eval) for the specified epoch.</p><div class="custom-h3"><p>get_keys2(key</p></div><p>str, epoch: Optional[int] = None) -&gt; Tuple[str, ]: Returns the second-level keys (e.g., loss, acc) for the specified key and epoch.</p><div class="custom-h3"><p>get_all_keys(epoch</p></div><p>Optional[int] = None) -&gt; Tuple[Tuple[str, str], ]: Returns all key pairs for the specified epoch.</p><div class="custom-h3"><p>matplotlib_plot(output_dir</p></div><p>Union[str, Path]) -&gt; None: Plots statistics using Matplotlib and saves the images to the specified directory.</p><div class="custom-h3"><p>tensorboard_add_scalar(summary_writer, epoch</p></div><p>Optional[int] = None, : key1: Optional[str] = None) -&gt; None:</p><p>Adds scalar values to TensorBoard for visualization.</p><div class="custom-h3"><p>wandb_log(epoch</p></div><p>Optional[int] = None) -&gt; None: Logs metrics to Weights &amp; Biases for tracking.</p><div class="custom-h4"><p>state_dict<span class="small-bracket">()</span>  dict</p></div><p>Returns the state of the Reporter as a dictionary.</p><div class="custom-h3"><p>load_state_dict(state_dict</p></div><p>dict) -&gt; None: Loads the state of the Reporter from a given dictionary.</p><p>#<div class="custom-h3"><p>check_early_stopping(patience</p></div> : int, key1: str, key2: str, mode: str, epoch: int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None, logger=None)  bool</p><p>#<div class="custom-h3"><p>finish_epoch(sub_reporter</p></div> : <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/train/SubReporter.html#espnet2.train.reporter.SubReporter">SubReporter</a>)  <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a></p><blockquote><p>Finalizes the statistics for the current epoch and updates the report.</p></blockquote><p>This method calculates the mean values of the statistics collected during the epoch and stores them in the overall stats dictionary. It also records the elapsed time for the epoch and handles GPU memory metrics if applicable.</p><ul><li><strong>Parameters:</strong><strong>sub_reporter</strong> (<a class="route-link" href="/espnet_draft_home_page/guide/espnet2/train/SubReporter.html#espnet2.train.reporter.SubReporter"><em>SubReporter</em></a>)  The sub-reporter instance that contains the statistics for the current epoch.</li><li><strong>Raises:</strong><strong>RuntimeError</strong>  If the epoch of the sub-reporter does not match the current epoch of the reporter.</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     # Register statistics during training</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">finish_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(sub_reporter)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE This method is intended to be called after the observation of the epoch has been completed, and it ensures that the statistics are properly aggregated and stored.</p><p>#<div class="custom-h3"><p>get_all_keys(epoch</p></div> : int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)  Tuple[Tuple[str, str], ...]</p><blockquote><p>Returns all keys from the current epochs statistics.</p></blockquote><p>The returned keys are tuples containing two elements: the first element corresponds to the main key (e.g., train, eval), and the second element corresponds to the specific metric (e.g., loss, acc).</p><ul><li><strong>Parameters:</strong><strong>epoch</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The epoch from which to retrieve the keys. If None, the current epoch is used. Defaults to None.</li><li><strong>Returns:</strong> A tuple of tuples containing all key pairs from the specified epoch.</li><li><strong>Return type:</strong> Tuple[Tuple[str, str], ]</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_all_keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">),)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE If the specified epoch has no recorded statistics, an empty tuple will be returned.</p><div class="custom-h4"><p>get_best_epoch<span class="small-bracket">(key: str, key2: str, mode: str, nbest: int = 0)</span>  int</p></div><p>Retrieve the best epoch based on a specified metric.</p><p>This method sorts the epochs based on the specified metric and returns the epoch corresponding to the best value. The best value can be either the minimum or maximum, depending on the specified mode. The nbest argument allows you to retrieve the nth best epoch (e.g., 0 for the best, 1 for the second best, etc.).</p><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong>  The main key for the metric (e.g., train, eval).</li><li><strong>key2</strong>  The sub-key for the specific metric (e.g., loss, acc).</li><li><strong>mode</strong>  The mode for selecting the best value; it should be either min or max.</li><li><strong>nbest</strong>  The index of the best epoch to retrieve. Defaults to 0, which retrieves the best epoch.</li></ul></li><li><strong>Returns:</strong> The epoch number that corresponds to the best value based on the specified criteria.</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> best_epoch </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_best_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;eval&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;min&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> second_best_epoch </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_best_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;acc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;max&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">nbest</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Raises:</strong><ul><li><strong>ValueError</strong>  If mode is not min or max.</li><li><strong>KeyError</strong>  If the specified key or sub-key does not exist in the reported statistics.</li></ul></li></ul><div class="custom-h4"><p>get_epoch<span class="small-bracket">()</span>  int</p></div><blockquote><p>Returns the current epoch number.</p></blockquote><p>This method retrieves the epoch number that the reporter is currently in.</p><ul><li><strong>Returns:</strong> The current epoch number.</li><li><strong>Return type:</strong> int</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">epoch</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> current_epoch </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(current_epoch)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#<div class="custom-h3"><p>get_keys(epoch</p></div> : int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)  Tuple[str, ...]</p><p>Returns keys1 e.g. train, eval.</p><ul><li><strong>Parameters:</strong><strong>epoch</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The epoch number for which to retrieve the keys. If None, the current epoch is used.</li><li><strong>Returns:</strong> A tuple of keys representing the first-level : keys (e.g., train, eval) in the stats dictionary for the specified epoch.</li><li><strong>Return type:</strong> Tuple[str, ]</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">start_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">start_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;eval&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_keys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;eval&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#<div class="custom-h3"><p>get_keys2(key</p></div> : str, epoch: int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)  Tuple[str, ...]</p><blockquote><p>Returns keys2 e.g. loss, acc.</p></blockquote><p>This method retrieves the second-level keys associated with a specified first-level key (e.g., train or eval) for a given epoch. The keys are filtered to exclude reserved keys like time and total_count.</p><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong> (<em>str</em>)  The first-level key to retrieve second-level keys from.</li><li><strong>epoch</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The epoch number to retrieve keys for. If None, the current epoch is used.</li></ul></li><li><strong>Returns:</strong> A tuple of second-level keys corresponding to the specified first-level key for the specified epoch.</li><li><strong>Return type:</strong> Tuple[str, ]</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;acc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_keys2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;acc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Raises:</strong><ul><li><strong>KeyError</strong>  If the specified key does not exist in the stats for the</li><li><strong>specified epoch.</strong> </li></ul></li></ul><p>#<div class="custom-h3"><p>get_value(key</p></div> : str, key2: str, epoch: int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)</p><blockquote><p>Retrieves the value associated with a specified key and key2 for a given epoch.</p></blockquote><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong> (<em>str</em>)  The primary key representing a specific metric category, such as train or eval.</li><li><strong>key2</strong> (<em>str</em>)  The secondary key representing a specific metric within the category, such as loss or accuracy.</li><li><strong>epoch</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The epoch number to retrieve the value from. If not provided, the current epoch is used.</li></ul></li><li><strong>Returns:</strong> The value associated with the specified key and key2 for the given epoch.</li><li><strong>Raises:</strong><strong>KeyError</strong>  If the specified key or key2 does not exist in the statistics.</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(value)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Output: 0.2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE Ensure that the statistics for the specified key and key2 have been registered before attempting to retrieve the value.</p><p>#<div class="custom-h3"><p>has(key</p></div> : str, key2: str, epoch: int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)  bool</p><blockquote><p>Check if the specified key and key2 exist in the stats for a given epoch.</p></blockquote><p>This method verifies whether the specified statistics are recorded for the current epoch or a specific epoch. It checks if both the primary key and the secondary key exist in the stats dictionary.</p><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong> (<em>str</em>)  The primary key, typically representing a phase (e.g., train).</li><li><strong>key2</strong> (<em>str</em>)  The secondary key, usually representing a specific metric (e.g., loss).</li><li><strong>epoch</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The epoch to check. If None, the current epoch is used. Defaults to None.</li></ul></li><li><strong>Returns:</strong> True if the keys exist in the stats for the specified epoch, : otherwise False.</li><li><strong>Return type:</strong> bool</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Check for the current epoch</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">False</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Check after registration</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">True</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Raises:</strong><strong>KeyError</strong>  If the specified keys do not exist in the stats for the epoch.</li></ul><p>#<div class="custom-h3"><p>load_state_dict(state_dict</p></div> : dict)</p><blockquote><p>Loads the state dictionary into the Reporter instance.</p></blockquote><p>This method updates the internal state of the Reporter instance with the provided state dictionary. It expects the state dictionary to contain the epoch and stats of the Reporter. This is typically used for restoring the state of a model during training or evaluation.</p><ul><li><p><strong>Parameters:</strong><strong>state_dict</strong> (<em>dict</em>) </p><p>A dictionary containing the state of the Reporter. It should have the following keys:</p><blockquote><ul><li>epoch (int): The current epoch of the Reporter.</li><li>stats (dict): The statistics collected during training, indexed by epoch and other relevant keys.</li></ul></blockquote></li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> state </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;epoch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;stats&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;train&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;loss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}}}}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">load_state_dict</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(state)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">())  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Output: 5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(reporter.stats)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Output: {0: {&#39;train&#39;: {&#39;loss&#39;: 0.1}}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#<div class="custom-h3"><p>log_message(epoch</p></div> : int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)  str</p><p>Generate a formatted log message for the current epoch.</p><p>This method constructs a string message that summarizes the reported values for the specified range of batches within the current epoch. The message includes statistics for each key that has been registered during the epoch.</p><ul><li><strong>Parameters:</strong><ul><li><strong>start</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The starting index of the batch range. If None, defaults to 0. If negative, counts from the end.</li><li><strong>end</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The ending index of the batch range. If None, defaults to the current count of batches.</li></ul></li><li><strong>Returns:</strong> A formatted log message summarizing the statistics : for the specified range of batches.</li><li><strong>Return type:</strong> str</li><li><strong>Raises:</strong><strong>RuntimeError</strong>  If the reporting process has already been finished.</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> SubReporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;train&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;loss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">log_message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;1epoch:train:1-1batch: loss=0.500&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;loss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">log_message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;1epoch:train:1-2batch: loss=0.400&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE The start and end indices must be within the bounds of the registered statistics.</p><p>#<div class="custom-h3"><p>matplotlib_plot(output_dir</p></div> : str | Path)</p><blockquote><p>Plot stats using Matplotlib and save images.</p></blockquote><p>This method generates plots for each metric collected during training or evaluation and saves them as PNG images in the specified output directory. The images are named according to the metric (key2) being plotted.</p><ul><li><strong>Parameters:</strong><strong>output_dir</strong> (<em>Union</em> *[*<em>str</em> <em>,</em> <em>Path</em> <em>]</em>)  The directory where the plots will be saved.</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> # Assume stats have been registered in reporter</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">matplotlib_plot</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;output/plots&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE Ensure that the Matplotlib library is properly installed and available in the environment where this function is executed.</p><p>#<div class="custom-h3"><p>observe(key</p></div> : str, epoch: int = None)  ContextManager[<a class="route-link" href="/espnet_draft_home_page/guide/espnet2/train/SubReporter.html#espnet2.train.reporter.SubReporter">SubReporter</a>]</p><blockquote><p>Observe a specific key during a training or evaluation epoch.</p></blockquote><p>This context manager allows for the registration of statistics for a specific key (e.g., train or eval) during an epoch. It will yield a SubReporter instance that can be used to collect statistics, which will be finalized once the context manager exits.</p><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong> (<em>str</em>)  The key for which statistics are being collected.</li><li><strong>epoch</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The epoch number. If None, the current epoch will be used.</li></ul></li><li><strong>Yields:</strong><em>SubReporter</em>  An instance of SubReporter to register statistics.</li><li><strong>Raises:</strong><strong>ValueError</strong>  If the provided epoch is negative.</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> batch </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> iterator:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         stats </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> dict</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">loss</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(stats)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE The statistics collected during this observation will be finalized and stored in the main Reporter instance once the context manager exits.</p><p>#<div class="custom-h3"><p>set_epoch(epoch</p></div> : int)  <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a></p><blockquote><p>Sets the current epoch of the reporter.</p></blockquote><p>This method updates the epoch counter to the specified value. The epoch must be a non-negative integer. If a negative value is provided, a ValueError will be raised.</p><ul><li><strong>Parameters:</strong><strong>epoch</strong> (<em>int</em>)  The new epoch number to set. Must be 0 or more.</li><li><strong>Raises:</strong><strong>ValueError</strong>  If the provided epoch is less than 0.</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">set_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">get_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">set_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># This will raise a ValueError</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-h4"><p>sort_epochs<span class="small-bracket">(key: str, key2: str, mode: str)</span>  List[int]</p></div><blockquote><p>Sort and return the epochs based on the specified metric.</p></blockquote><p>This method retrieves the epochs associated with the specified key and key2, and sorts them in either ascending or descending order based on the mode specified. The mode can be min for finding the epochs with the minimum value of the specified metric or max for finding the epochs with the maximum value.</p><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong> (<em>str</em>)  The primary key representing the type of data (e.g., train, eval).</li><li><strong>key2</strong> (<em>str</em>)  The secondary key representing the specific metric to evaluate (e.g., loss, accuracy).</li><li><strong>mode</strong> (<em>str</em>)  Specifies the sorting order. Should be either min or max.</li></ul></li><li><strong>Returns:</strong> A list of epochs sorted based on the specified metric.</li><li><strong>Return type:</strong> List[int]</li><li><strong>Raises:</strong><ul><li><strong>ValueError</strong>  If the mode is not min or max.</li><li><strong>KeyError</strong>  If the specified key or key2 does not exist in the</li><li><strong>recorded statistics.</strong> </li></ul></li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> # Assuming reporter has recorded stats for &#39;train&#39; and &#39;loss&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sorted_epochs </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">sort_epochs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;min&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(sorted_epochs)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Output: [1, 2, 3] (example output)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#<div class="custom-h3"><p>sort_epochs_and_values(key</p></div> : str, key2: str, mode: str)  List[Tuple[int, float]]</p><p>Return the epoch which resulted in the best value.</p><p>This method sorts the epochs based on the specified metric and mode, returning the epochs along with their corresponding values.</p><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong> (<em>str</em>)  The primary key to access the statistics (e.g., train or eval).</li><li><strong>key2</strong> (<em>str</em>)  The secondary key to specify the metric (e.g., loss or accuracy).</li><li><strong>mode</strong> (<em>str</em>)  The mode for sorting; must be either min or max. min returns the epochs with the smallest values, while max returns the epochs with the largest values.</li></ul></li><li><strong>Returns:</strong> A list of tuples, each containing an epoch number and its corresponding value, sorted according to the specified mode.</li><li><strong>Return type:</strong> List[Tuple[int, float]]</li><li><strong>Raises:</strong><ul><li><strong>ValueError</strong>  If the mode is not min or max.</li><li><strong>KeyError</strong>  If the specified key or key2 is not found in the statistics.</li></ul></li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> val </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">sort_epochs_and_values</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;eval&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;min&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> e_1best, v_1best </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> val[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> e_2best, v_2best </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> val[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE Ensure that the statistics for the specified keys have been registered before calling this method.</p><div class="custom-h4"><p>sort_values<span class="small-bracket">(key: str, key2: str, mode: str)</span>  List[float]</p></div><p>Return a list of values sorted by the specified key and mode.</p><p>This method retrieves values for a specified key (e.g., train) and a second key (e.g., loss) from the stats, sorts them according to the specified mode (min or max), and returns the sorted values as a list.</p><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong> (<em>str</em>)  The primary key for which to retrieve values.</li><li><strong>key2</strong> (<em>str</em>)  The secondary key for which to retrieve values.</li><li><strong>mode</strong> (<em>str</em>)  The sorting mode, either min or max.</li></ul></li><li><strong>Returns:</strong> A list of values sorted according to the specified mode.</li><li><strong>Return type:</strong> List[float]</li><li><strong>Raises:</strong><ul><li><strong>ValueError</strong>  If mode is not min or max.</li><li><strong>KeyError</strong>  If the specified key or key2 is not found in the</li><li><strong>stats.</strong> </li></ul></li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">sort_values</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;min&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">sort_values</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;eval&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;accuracy&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;max&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.95</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.93</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.90</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>#<div class="custom-h3"><p>start_epoch(key</p></div> : str, epoch: int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)  <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/train/SubReporter.html#espnet2.train.reporter.SubReporter">SubReporter</a></p><blockquote><p>Starts the reporting for a new epoch.</p></blockquote><p>This method initializes a new SubReporter for tracking statistics during the epoch specified by the key parameter. If an epoch is specified, it will be set as the current epoch for the Reporter.</p><ul><li><strong>Parameters:</strong><ul><li><strong>key</strong> (<em>str</em>)  A string identifier for the reporting context, such as train or eval.</li><li><strong>epoch</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The epoch number to start. If not provided, the current epoch will be used.</li></ul></li><li><strong>Returns:</strong> An instance of SubReporter for the current epoch reporting.</li><li><strong>Return type:</strong><a class="route-link" href="/espnet_draft_home_page/guide/espnet2/train/SubReporter.html#espnet2.train.reporter.SubReporter">SubReporter</a></li><li><strong>Raises:</strong><ul><li><strong>ValueError</strong>  If epoch is less than 0.</li><li><strong>RuntimeError</strong>  If the previous epochs statistics are missing or if the epoch is not properly incremented.</li></ul></li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">start_epoch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter.key</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter.epoch</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE It is essential to call finish_epoch after using the SubReporter to finalize and store the statistics for the epoch.</p><div class="custom-h4"><p>state_dict<span class="small-bracket">()</span></p></div><blockquote><p>Returns the current state of the Reporter instance.</p></blockquote><p>The state is represented as a dictionary containing the following keys:</p><ul><li>stats: A dictionary of recorded statistics for each epoch and key.</li><li>epoch: The current epoch number.</li></ul><p>This method is useful for saving the current state of the Reporter, allowing for resuming from a checkpoint later.</p><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> # Simulate some training and logging</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> state </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">state_dict</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(state[</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;epoch&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">])  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Output: 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(state[</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;stats&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">])  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Output: {&#39;train&#39;: {&#39;loss&#39;: 0.5, ...}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Returns:</strong> A dictionary containing the state of the Reporter.</li><li><strong>Return type:</strong> dict</li></ul><p>#<div class="custom-h3"><p>tensorboard_add_scalar(summary_writer, epoch</p></div> : int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None, key1: str | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)</p><blockquote><p>Adds scalar values to TensorBoard for visualization.</p></blockquote><p>This method logs scalar statistics to the provided TensorBoard summary writer. The statistics are recorded for the current epoch or a specified epoch.</p><ul><li><strong>Parameters:</strong><ul><li><strong>summary_writer</strong>  A TensorBoard summary writer instance used to log scalar values.</li><li><strong>start</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The starting index from which to log the statistics. If None, it defaults to 0. If negative, it will start from self.count + start.</li></ul></li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> torch.utils.tensorboard </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> SummaryWriter</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> writer </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> SummaryWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">     for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> batch </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> iterator:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         stats </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> dict</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">loss</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">         sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(stats)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">tensorboard_add_scalar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(writer)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> writer.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Raises:</strong><strong>AssertionError</strong>  If the length of the statistics list does not match the expected count.</li></ul><p>#<div class="custom-h3"><p>wandb_log(epoch</p></div> : int | <a class="route-link" href="/espnet_draft_home_page/guide/espnet2/asr/AbsDecoder.html#espnet2.asr.decoder.abs_decoder.AbsDecoder.None">None</a> = None)</p><blockquote><p>Logs the reported values to Weights and Biases (wandb).</p></blockquote><p>This method aggregates the statistics collected in the current epoch and logs them to the Weights and Biases dashboard. The logged values include metrics prefixed with their respective categories (e.g., train/, valid/) and the total count of iterations.</p><ul><li><strong>Parameters:</strong><strong>start</strong> (<em>int</em> <em>,</em> <em>optional</em>)  The starting index for the statistics to log. If None, logging will start from the beginning. If negative, it will start from the end of the statistics.</li><li><strong>Raises:</strong><strong>AssertionError</strong>  If the lengths of the statistics lists do not match the current count of reported values.</li></ul><p>############################################# Examples</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;"> Reporter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;train&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> sub_reporter:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;loss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">     sub_reporter.</span><span style="--shiki-light:#24292E;--shiki-dark:#61AFEF;">wandb_log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>############# NOTE Ensure that wandb is properly initialized before calling this method.</p></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/espnet_draft_home_page/guide/espnet2/train/ReportedValue.html" aria-label="espnet2.train.reporter.ReportedValue"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->espnet2.train.reporter.ReportedValue</div></a><a class="route-link auto-link next" href="/espnet_draft_home_page/guide/espnet2/train/SubReporter.html" aria-label="espnet2.train.reporter.SubReporter"><div class="hint">Next<span class="arrow end"></span></div><div class="link">espnet2.train.reporter.SubReporter<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">Copyright  2024 ESPnet Community. All rights reserved.</div><!----></footer></div><!--]--><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/espnet_draft_home_page/assets/app-DtMTUqbx.js" defer></script>
  </body>
</html>
